# This file was generated by Chef

<%- if supports_function_syntax? -%>
<%- @log_files.each do |logfile| -%>
input(type="imfile"
      File="<%= logfile['filename'] %>"
      Tag="<%= logfile['tag'] %>"
      <% if supports_statefile? -%>
      Statefile="<%= logfile['statefile'] %>"
      <%- end -%>
      <%- if logfile.key?('severity') -%>
      Severity="<%= logfile['severity'] %>"
      <%- end %>
  )
<%- end -%>
<%- else -%>
<%- @log_files.each do |logfile| -%>
# Input for <%= logfile['filename'] %>
$InputFileName <%= logfile['filename'] %>
$InputFileTag <%= logfile['tag'] %>
<% if supports_statefile? -%>
$InputFileStateFile <%= logfile['statefile'] %> # This must be unique for each file being polled
<%- end -%>
<%- if logfile.key?('severity') -%>
$InputFileSeverity <%= logfile['severity'] %>
<%- end -%>
$InputFilePersistStateInterval 20000
$InputRunFileMonitor
<%- end -%>
<%- end -%>
